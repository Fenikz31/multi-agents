## Compatibility Snapshot and Remediations

This document summarizes expected CLI capabilities and suggested remediations when features are missing.

### Snapshot format
- Generated by: `multi-agents doctor --format json --snapshot docs/compat/latest.json`
- JSON shape:
```json
{
  "status": "OK|DEGRADE|KO",
  "results": [
    {"name":"claude","version":"...","present":true,"timed_out":false,"supports":{"--output-format":true},"error":null}
  ],
  "ndjson": { "ok_lines": 1, "errors": [] } // present only if --ndjson-sample was provided
}
```

### Expected capabilities
- claude
  - Must have: `--output-format`, `--session-id`
  - Should have: `--allowed-tools`, `--permission-mode`, `-r|--resume`
- cursor-agent
  - Must have: `--output-format`, `--resume`, `create-chat`
  - Should have: `-p`
- gemini
  - Must have: `-i` (interactive/system prompt)
  - Optional: `--allowed-tools`
- tmux
  - Must have: `pipe-pane`
- git: version command must work

### Remediations
- Missing binary or timeout → install/update CLI; check PATH and auth; rerun doctor
- Missing flag/feature → update CLI; adjust `providers.yaml` placeholders or disable related feature
- Degraded state → proceed with limited feature set; document risk in MR

### Regenerate
```bash
multi-agents doctor --format json --snapshot docs/compat/latest.json
```
